(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1232:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var classCallCheck=__webpack_require__(19),createClass=__webpack_require__(20),possibleConstructorReturn=__webpack_require__(23),getPrototypeOf=__webpack_require__(21),inherits=__webpack_require__(22),react=__webpack_require__(0),react_default=__webpack_require__.n(react),lib=__webpack_require__(326),commonjs=__webpack_require__(325),Helmet=__webpack_require__(323),header=__webpack_require__(324),footer=__webpack_require__(162),SET_CH1_PROGRESS="SET_LOCAL_PROGRESS";var chapter_complete_card=__webpack_require__(321),lesson_progressbar=__webpack_require__(219),editor=__webpack_require__(490),instruction_viewer=__webpack_require__(492),lesson_navigator=__webpack_require__(218),cheat_sheet_modal=__webpack_require__(488),redux=__webpack_require__(161),react_redux_firebase_lib=__webpack_require__(327),auth=__webpack_require__(312),lesson_container_LessonContainer=function(_React$Component){function LessonContainer(){var _this;return Object(classCallCheck.a)(this,LessonContainer),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(LessonContainer).apply(this,arguments))).goNext=function(){if(void 0!==_this.props.codes){var chapterNumber=_this.getChapterNumber(),lessonNumber=_this.getChatperNumber();_this.updateProgress(chapterNumber,lessonNumber),_this.navigateToNextLesson(chapterNumber,lessonNumber)}},_this.goBack=function(){var history=_this.props.history,chapterNumber=_this.getChapterNumber(),lessonNumber=_this.getChatperNumber(),previousLessonPath="/chapter/".concat(chapterNumber,"/lesson/").concat(lessonNumber-1);history.push(previousLessonPath)},_this.updateProgress=function(currentChapter,currentLesson){var obj,key,value,_this$props=_this.props,firebase=_this$props.firebase,profile=_this$props.profile,progressProfile=profile.progress||{},chapterKey="chapter".concat(currentChapter),progress=(value=currentLesson,(key=chapterKey)in(obj={})?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj),isAuth=!profile.isEmpty,chapterProgressNum=progressProfile[chapterKey]||0;1===currentChapter&&_this.props.setCh1Progress(currentLesson),isAuth&&chapterProgressNum<currentLesson&&firebase.updateProfile({progress:progress})},_this.navigateToNextLesson=function(currentChapter,currentLesson){var _this$props2=_this.props;_this$props2.history;void 0!==_this$props2.codes&&_this.navigate(currentChapter,currentLesson+1)},_this.navigate=function(chapterNum,lessonNum){var _this$props3=_this.props,profile=_this$props3.profile,history=_this$props3.history;if(!!profile.isEmpty&&chapterNum>1)return _this.props.openAuthModal();history.push("/chapter/".concat(chapterNum,"/lesson/").concat(lessonNum))},_this.getInstruction=function(){var _this$props4=_this.props,instructions=_this$props4.instructions,lang=_this$props4.i18n.language,chapterIndex=_this.getChapterNumber()-1,lessonIndex=_this.getChatperNumber()-1;return((instructions[lang][chapterIndex]||{}).lessons||[])[lessonIndex]||{}},_this.getChapterNumber=function(){var routeParams=_this.props.match.params;return parseInt(routeParams.chapter,10)},_this.getChatperNumber=function(){var routeParams=_this.props.match.params;return parseInt(routeParams.lesson,10)},_this}return Object(inherits.a)(LessonContainer,_React$Component),Object(createClass.a)(LessonContainer,[{key:"render",value:function(){var _this$props5=this.props,codes=_this$props5.codes,location=_this$props5.location,t=_this$props5.t,chapterNumber=(_this$props5.history,this.getChapterNumber()),chapterIndex=chapterNumber-1,lessonNumber=this.getChatperNumber(),lessonIndex=lessonNumber-1,instruction=this.getInstruction(),codeLessonList=codes[chapterIndex]||[],numOfTotalChapter=codes.length,numOfTotalLesson=codeLessonList.length||0,isLastLesson=lessonNumber===numOfTotalLesson,code=codeLessonList[lessonIndex]||{initialCode:void 0,answerCode:void 0},initialCode=code.initialCode,answerCode=code.answerCode,currentChapterText="".concat(t("chapter.chapter")," ").concat(chapterNumber),currentLessonText="".concat(t("lesson.lesson")," ").concat(lessonNumber),documentTitle="LearnScilla - ".concat(currentChapterText," ").concat(currentLessonText),pathname=location.pathname;return react_default.a.createElement("div",null,react_default.a.createElement(header.a,null),react_default.a.createElement(Helmet.Helmet,null,react_default.a.createElement("title",null,documentTitle)),react_default.a.createElement("div",{className:"container px-0"},react_default.a.createElement(lesson_progressbar.a,{navigate:this.navigate,chapterNumber:chapterNumber,lessonNumber:lessonNumber,total:numOfTotalLesson,t:t}),react_default.a.createElement("div",{className:"py-2"}),react_default.a.createElement("div",{className:"row"},react_default.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-6 px-0"},react_default.a.createElement(instruction_viewer.a,{instruction:instruction})),react_default.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-6 px-0"},isLastLesson?react_default.a.createElement(chapter_complete_card.a,{navigate:this.navigate,t:t,total:numOfTotalChapter,chapter:chapterNumber}):react_default.a.createElement(editor.a,{initialCode:initialCode,answerCode:answerCode,t:t,proceed:this.goNext,pathname:pathname}))),react_default.a.createElement("div",{className:"text-center"},react_default.a.createElement("div",{className:"d-flex py-2 justify-content-between"},react_default.a.createElement(cheat_sheet_modal.a,{t:t,buttonType:"secondary"}),react_default.a.createElement(lesson_navigator.a,{goBack:this.goBack,goNext:this.goNext,lessonNumber:lessonNumber,total:numOfTotalLesson,t:t}),react_default.a.createElement("div",{style:{width:120}})))),react_default.a.createElement(footer.a,null))}}]),LessonContainer}(react_default.a.Component),WithTranslation=Object(commonjs.withNamespaces)()(lesson_container_LessonContainer);__webpack_exports__.default=Object(redux.compose)(react_redux_firebase_lib.withFirebase,Object(lib.connect)(function(state){return{instructions:state.course.courseInstructions,codes:state.course.courseCodes,profile:state.firebase.profile}},function(dispatch){return{setCh1Progress:function(localProgress){return dispatch({type:SET_CH1_PROGRESS,payload:{ch1Progress:localProgress}})},openAuthModal:function(){return dispatch(Object(auth.a)())}}}))(WithTranslation)}}]);
//# sourceMappingURL=5.76d3ca0754f21fe924fe.bundle.js.map